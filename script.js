// === å•é¡Œè³‡æ–™åº«ï¼ˆSPINï½œé¸æ“‡é¡Œç‰ˆï¼‰ ===
const spinQuestions = {
  /* â”€â”€â”€ ä¸€èˆ¬ä¸Šç­æ— â”€â”€â”€ */
  "ä¸€èˆ¬ä¸Šç­æ—": [
    { q: "ä½ ç¾åœ¨åšçš„é€™ä»½å·¥ä½œç©©å®šå—ï¼Ÿ", options: ["ç©©å®š", "å¶çˆ¾è®Šå‹•", "å¾ˆä¸ç©©å®š"] },
    { q: "é€™ä»½å·¥ä½œå°ä½ ä¾†èªªå£“åŠ›å¤§ä¸å¤§ï¼Ÿ", options: ["æ­£å¸¸", "å£“åŠ›å¤§", "éå¸¸ç–²æ†Š"] },
    { q: "ä½ ç›®å‰æœ‰å›ºå®šåœ¨å„²è“„å—ï¼Ÿé‚„æ˜¯å­˜äº†å°±èŠ±ï¼Ÿ", options: ["æœ‰å›ºå®šå­˜", "å¶çˆ¾å­˜", "å¹¾ä¹æ²’å­˜"] },
    { q: "å…¬å¸æœ‰ææ’¥å‹é€€ï¼Œä½ é‚„æœ‰å¦å¤–è¦åŠƒé€€ä¼‘é‡‘å—ï¼Ÿ", options: ["æœ‰é¡å¤–è¦åŠƒ", "æƒ³è¦åŠƒä½†é‚„æ²’åš", "æ²’æœ‰è¦åŠƒ"] },
    { q: "è‹¥çªç™¼å¤§ç­†æ”¯å‡ºï¼ˆå®¶äººé†«ç™‚ç­‰ï¼‰ï¼Œä½ è¦ºå¾—å¤ ç”¨å—ï¼Ÿ", options: ["å¤ ç”¨", "å¯èƒ½ä¸å¤ ", "å®Œå…¨æ²’æœ‰æº–å‚™"] },
    { q: "é€€ä¼‘å¾Œæ¯æœˆç”Ÿæ´»è²»ä¼°ç®—å¥½äº†å—ï¼Ÿ", options: ["ç®—éä¸¦æº–å‚™", "å¤§æ¦‚æœ‰æ¦‚å¿µ", "æ²’ç®—é"] },
    { q: "è‹¥è£å“¡æˆ–ç”Ÿç—…ç„¡æ³•ä¸Šç­å¹¾å€‹æœˆï¼Œç”Ÿæ´»é–‹éŠ·æœ‰å‚™æ¡ˆå—ï¼Ÿ", options: ["æœ‰å‚™æ¡ˆ", "éƒ¨åˆ†æº–å‚™", "å®Œå…¨æ²’æœ‰"] },
    { q: "å¦‚æœæœ‰å€‹æ–¹å¼ï¼Œå¯ä»¥æ¯æœˆå¹«ä½ å­˜ä¸€é»ï¼Œæœªä¾†è®Šæˆä¸€ç­†é€€ä¼‘è£œè²¼ï¼Œæˆ–é‡æ€¥ç”¨ä¹Ÿèƒ½ç”¨ï¼Œä½ è¦ºå¾—é‡è¦å—ï¼Ÿ", options: ["é‡è¦", "é‚„å¥½"] },
    { q: "é€™ç¨®æ–¹å¼å°±åƒå¹«è‡ªå·±æº–å‚™ä¸€å€‹ã€å‚™ç”¨é›»æ± ã€ï¼Œå¹³å¸¸ä¸ç”¨ï¼Œä½†å“ªå¤©æ–·é›»å°±çŸ¥é“å¤šé‡è¦äº†ï¼Œä½ æƒ³é€²ä¸€æ­¥äº†è§£å—ï¼Ÿ", options: ["æƒ³äº†è§£", "è§€æœ›"] }
  ],

  /* â”€â”€â”€ è‡ªç‡Ÿæ¥­è€… â”€â”€â”€ */
  "è‡ªç‡Ÿæ¥­è€…": [
    { q: "ä½ ç›®å‰ç”Ÿæ„ç©©å®šå—ï¼Ÿ", options: ["ç©©å®š", "å¶çˆ¾æ³¢å‹•", "ä¸ç©©å®š"] },
    { q: "ä½ è¦ºå¾—ä¸€äººå¤šè·è¾›è‹¦å—ï¼Ÿ", options: ["å¯æ¥å—", "ç•¥è¾›è‹¦", "éå¸¸è¾›è‹¦"] },
    { q: "ä½ å›ºå®šå­˜éŒ¢ï¼Ÿé‚„æ˜¯å…¨éƒ¨æŠ•å…¥äº‹æ¥­ï¼Ÿ", options: ["å›ºå®šå­˜éŒ¢", "å°‘é‡å­˜æ¬¾", "å…¨éƒ¨æŠ•å…¥"] },
    { q: "æ²’æœ‰å‹é€€ï¼Œä½ æœ‰è‡ªä¸»é€€ä¼‘æˆ–æŠ•è³‡è¦åŠƒå—ï¼Ÿ", options: ["å®Œæ•´è¦åŠƒ", "éƒ¨åˆ†å®‰æ’", "æ²’æœ‰"] },
    { q: "çªç™¼å¤§ç­†æ”¯å‡ºæ™‚ï¼ˆä¿®ç¹•/å®¶ç”¨ï¼‰ï¼Œå£“åŠ›æœƒå¤§å—ï¼Ÿ", options: ["å¯æ‡‰ä»˜", "æœ‰å£“åŠ›", "éå¸¸åƒç·Š"] },
    { q: "æœ‰é è¨­å°‘äº†äº‹æ¥­æ”¶å…¥æ€éº¼è¾¦ï¼Ÿ", options: ["å·²ä¼°ç®—ä¸¦æº–å‚™", "ç•¥æ“”å¿ƒ", "æœªä¼°ç®—"] },
    { q: "ç”Ÿç—…ä¸èƒ½å·¥ä½œæ•¸æœˆï¼Œå®¶è¨ˆæœ‰å‚™æ¡ˆå—ï¼Ÿ", options: ["æœ‰å‚™æ¡ˆ", "éƒ¨åˆ†æº–å‚™", "æ²’æœ‰"] },
    { q: "æ¯æœˆæ’¥å¹¾åƒå»ºç«‹å‚™ç”¨é‡‘ï¼‹é€€ä¼‘æº–å‚™ï¼Œå¯¦ç”¨å—ï¼Ÿ", options: ["å¯¦ç”¨", "çœ‹æ–¹æ¡ˆ", "ä¸éœ€è¦"] },
    { q: "é€™åƒç”Ÿæ„ä¿éšªï¼Œæ™¯æ°£å·®ä¹Ÿå®‰å¿ƒï¼Œæƒ³äº†è§£å—ï¼Ÿ", options: ["æƒ³äº†è§£", "å†è§€æœ›", "å…ˆä¸ç”¨"] }
  ],

  /* â”€â”€â”€ é ˜å°ä¸»ç®¡ â”€â”€â”€ */
  "é ˜å°ä¸»ç®¡": [
    { q: "ä½ ç›®å‰åœ˜éšŠå€‘å·¥ä½œé‡æ˜¯å¦æ»¿æª”ï¼Ÿ", options: ["éå¸¸å¿™ç¢Œ", "å¶çˆ¾åŠ ç­", "æ™‚é–“å½ˆæ€§"] },
    { q: "å·¥ä½œçŠ§ç‰²åˆ°å®¶åº­æ™‚é–“çš„æƒ…æ³ï¼Ÿ", options: ["å¸¸å¸¸çŠ§ç‰²", "å¶çˆ¾", "å¹¾ä¹ç„¡å½±éŸ¿"] },
    { q: "è³‡ç”¢å„²è“„å®‰æ’ï¼Ÿ", options: ["å›ºå®šå„²è“„", "éƒ¨åˆ†å„²è“„", "å¹¾ä¹ä¸å­˜"] },
    { q: "è‹¥ç”Ÿç—…ä¼‘æ¯æ•¸æœˆï¼Œè²¡å‹™æº–å‚™åº¦ï¼Ÿ", options: ["å……åˆ†æº–å‚™", "éƒ¨åˆ†æº–å‚™", "æ²’æº–å‚™"] },
    { q: "ç¾åœ¨æ”¶å…¥èƒ½å¦æ”¯æ’ç†æƒ³é€€ä¼‘ï¼Ÿ", options: ["è¶³å¤ ", "å¯èƒ½ä¸è¶³", "æ˜é¡¯ä¸è¶³"] },
    { q: "é•·æœŸç©©å®šä¿éšœï¼é€€ä¼‘è¨ˆåŠƒæ˜¯å¦åˆ°ä½ï¼Ÿ", options: ["å®Œæ•´", "éƒ¨åˆ†", "æ²’æœ‰"] },
    { q: "æ˜¯å¦æƒ³è¦å…¼å…·ç©©å®šç¾é‡‘æµçš„è³‡ç”¢ï¼Ÿ", options: ["å·²å¸ƒå±€", "æ­£åœ¨è€ƒæ…®", "æœªè€ƒæ…®"] },
    { q: "æ¯æœˆå°é¡è³‡é‡‘â†’é˜²ç·šï¼‹ä¿éšœï¼Œæœ‰å¹«åŠ©å—ï¼Ÿ", options: ["éå¸¸æœ‰å¹«åŠ©", "å¯ä»¥è©•ä¼°", "æš«ä¸éœ€è¦"] },
    { q: "å¦‚åŒç‚ºåœ˜éšŠå»ºç³»çµ±ï¼Œæƒ³äº†è§£å¦‚ä½•è¦åŠƒï¼Ÿ", options: ["æƒ³äº†è§£", "å†è§€æœ›", "ä¸éœ€è¦"] }
  ],

  /* â”€â”€â”€ è¨ˆç¨‹è»Šå¸æ©Ÿ â”€â”€â”€ */
  "è¨ˆç¨‹è»Šå¸æ©Ÿ": [
    { q: "å¤§å“¥æ‚¨ä¸€å¤©å¤§ç´„é–‹å¹¾å°æ™‚ï¼Ÿ", options: ["10 å°æ™‚ä»¥ä¸Š", "6â€“9 å°æ™‚", "å°‘æ–¼ 6 å°æ™‚"] },
    { q: "å“ªå€‹æ™‚æ®µæœ€å¥½è¼‰å®¢ï¼Ÿæ”¶å…¥æ˜¯å¦æ³¢å‹•ï¼Ÿ", options: ["å¾ˆç©©å®š", "ç¨æœ‰æ³¢å‹•", "å¸¸å¸¸æ³¢å‹•"] },
    { q: "å¹³å‡ä¸€æœˆå¯å­˜å¤šå°‘ï¼Ÿ", options: [">2 è¬", "1â€“2 è¬", "<1 è¬"] },
    { q: "è‹¥ç„¡æ³•è·‘è»Šæ™‚æœ‰å…¶ä»–æ”¶å…¥ä¾†æºå—ï¼Ÿ", options: ["æœ‰å‰¯æ¥­", "éƒ¨åˆ†æ”¶å…¥", "å®Œå…¨æ²’æœ‰"] },
    { q: "æ·¡å­£ï¼ç–«æƒ…æœŸé–“è¼‰å®¢å°‘æ™‚æœƒä¸æœƒåƒç·Šï¼Ÿ", options: ["ä¸ç·Š", "ç¨ç·Š", "å¾ˆç·Š"] },
    { q: "ç”Ÿç—…åœå·¥å¹¾å¤©æœƒå½±éŸ¿å®¶ç”¨å—ï¼Ÿ", options: ["å½±éŸ¿å°", "å½±éŸ¿ä¸­", "å½±éŸ¿å¤§"] },
    { q: "è»Šå­å¤§ä¿®æˆ–å®¶äººæ€¥éœ€ç”¨éŒ¢æ™‚å£“åŠ›ï¼Ÿ", options: ["èƒ½æ‡‰ä»˜", "å£“åŠ›å¤§", "è³‡é‡‘çŸ­ç¼º"] },
    { q: "å¦‚æœæœ‰ä¸€å€‹æ–¹æ³•ï¼Œæ¯æœˆæ’¥ å¹¾ç™¾ã€œä¸€åƒï¼Œå°±åƒå¹«è‡ªå·±æº–å‚™ å‚™ç”¨åŸºé‡‘ï¼Œè¬ä¸€çˆ†èƒï¼ˆå‡ºç‹€æ³ï¼‰ä¹Ÿä¸æœƒæ…Œï¼Œæ‚¨è¦ºå¾—æœ‰æ²’æœ‰å¹«åŠ©ï¼Ÿ", options: ["æœ‰å¹«åŠ©", "å¯èƒ½æœ‰ç”¨", "å¹«åŠ©æœ‰é™"] },
    { q: "é€™ç­†éŒ¢é‚„å¯ä»¥ç•¶é€€ä¼‘è£œè²¼ï¼Œå¤šä¸€ä»½ä¿éšœï¼Œæ‚¨æœ‰èˆˆè¶£äº†è§£æ€éº¼æ“ä½œå—ï¼Ÿ", options: ["æƒ³äº†è§£", "å†è€ƒæ…®", "å…ˆä¸ç”¨"] }
  ],

  /* â”€â”€â”€ å…¬è· / é†«ç™‚ â”€â”€â”€ */
  "å…¬è·/é†«ç™‚": [
    { q: "ä½ åœ¨å–®ä½æœå‹™å¤šä¹…ï¼Ÿæ’ç­ç¿’æ…£å—ï¼Ÿ", options: ["å¾ˆç¿’æ…£", "é‚„è¡Œ", "ä¸å¤ªç¿’æ…£"] },
    { q: "è¼ªç­é•·æ™‚æ•¸å°å¥åº·/å®¶åº­å½±éŸ¿ï¼Ÿ", options: ["å½±éŸ¿å°", "äº›å¾®å½±éŸ¿", "å½±éŸ¿å¤§"] },
    { q: "è–ªè³‡ç©©å®šï¼Œä½ å¦æœ‰æŠ•è³‡æˆ–å„²è“„å—ï¼Ÿ", options: ["å›ºå®šæŠ•è³‡", "å°‘é‡å„²è“„", "å¹¾ä¹æ²’æœ‰"] },
    { q: "é™¤é€€æ’«åˆ¶åº¦å¤–ï¼Œé¡å¤–é€€ä¼‘è¦åŠƒï¼Ÿ", options: ["åšéè¦åŠƒ", "æ­£åœ¨è€ƒæ…®", "æ²’æœ‰"] },
    { q: "è‹¥é‡é‡å¤§é†«ç™‚æ”¯å‡ºï¼Œç¾é‡‘æµè¶³å¤ å—ï¼Ÿ", options: ["å¾ˆè¶³å¤ ", "å¯èƒ½ä¸è¶³", "ä¸è¶³"] },
    { q: "é€€ä¼‘å¾Œæ¯æœˆç”Ÿæ´»è²»ä¼°ç®—å¤ ä¸å¤ ï¼Ÿ", options: ["å¤ ", "å‹‰å¼·", "ä¸å¤ "] },
    { q: "åˆ¶åº¦èª¿æ•´æˆ–é«˜é¢¨éšªç„¡æ³•å·¥ä½œæ™‚æ”¶å…¥ï¼Ÿ", options: ["æœ‰å‚™æ¡ˆ", "éƒ¨åˆ†å‚™æ¡ˆ", "æ²’æœ‰"] },
    { q: "æ¯æœˆå°é¡åŒæ™‚è£œé†«ç™‚ç¼ºå£+é€€ä¼‘é‡‘ï¼Œå¯¦ç”¨ï¼Ÿ", options: ["å¯¦ç”¨", "å¯è€ƒæ…®", "é‚„å¥½"] },
    { q: "åŠ è£é˜²è­·ç¶²ä¿è­·å®¶äººï¼Œæƒ³äº†è§£æ–¹æ¡ˆï¼Ÿ", options: ["æƒ³äº†è§£", "å†çœ‹çœ‹", "å…ˆä¸ç”¨"] }
  ]
};

// === åŸºæœ¬è³‡æ–™ä¸‹ä¸€æ­¥ ===
document.getElementById("nextBtn").addEventListener("click", () => {
  const age = document.getElementById("age").value;
  const income = document.getElementById("income").value;
  const saving = document.getElementById("saving").value;

  if (!age || !income || !saving) {
    alert("è«‹å®Œæ•´å¡«å¯«åŸºæœ¬è³‡æ–™");
    return;
  }

  // éš±è—ç¬¬ä¸€éšæ®µï¼Œé¡¯ç¤ºç¬¬äºŒéšæ®µ
  document.getElementById("basicInfoSection").style.display = "none";
  document.getElementById("questionSection").style.display = "block";
});

// === å•å·è¼‰å…¥ï¼ˆæ”¹ç‚º radio é¸æ“‡é¡Œç‰ˆï¼‰===
function loadQuestions() {
  const job = document.getElementById("job").value;
  const form = document.getElementById("questionForm");
  form.innerHTML = "";

  const qList = spinQuestions[job];       // å–å‡ºè©²è·æ¥­é¡Œç›®é™£åˆ—

  qList.forEach((item, i) => {
    /* å•é¡Œæ–‡å­— */
    const label = document.createElement("label");
    label.innerText = `Q${i + 1}. ${item.q}`;
    label.style.display = "block";
    label.style.marginTop = "15px";
    form.appendChild(label);

    /* ç”¢ç”Ÿ radio é¸é … */
    item.options.forEach(opt => {
      const line = document.createElement("div");
      line.style.marginLeft = "12px";

      const radio = document.createElement("input");
      radio.type = "radio";
      radio.name = `q${i}`;
      radio.value = opt;
      radio.required = true;

      const span = document.createElement("span");
      span.innerText = " " + opt;

      line.appendChild(radio);
      line.appendChild(span);
      form.appendChild(line);
    });
  });

  /* é€å‡ºæŒ‰éˆ• */
  const submitBtn = document.createElement("button");
  submitBtn.textContent = "é–‹å§‹è©•ä¼°";
  submitBtn.type = "button";
  submitBtn.style.marginTop = "25px";

  submitBtn.onclick = () => {
    // å…ˆç¢ºèªæ¯é¡Œéƒ½æœ‰å‹¾
    const answers = [];
    for (let i = 0; i < qList.length; i++) {
      const sel = form.querySelector(`input[name="q${i}"]:checked`);
      if (!sel) {
        alert(`è«‹å›ç­”ç¬¬ ${i + 1} é¡Œ`);
        return;
      }
      answers.push(sel.value);
    }

    /* è®€åŸºæœ¬è³‡æ–™ */
    const age    = document.getElementById("age").value;
    const income = document.getElementById("income").value;
    const saving = document.getElementById("saving").value;

    /* é¡¯ç¤ºçµæœ */
    form.innerHTML = "";
    const box = document.createElement("div");
    box.className = "result-container";

    box.innerHTML = `
      <h2>ğŸ“ æ‚¨çš„å¥æª¢å•å·çµæœå¦‚ä¸‹</h2>
      <p>
        å¹´é½¡ï¼š${age} æ­²<br>
        å¹³å‡æœˆæ”¶å…¥ï¼š${income} å…ƒ<br>
        æ˜¯å¦æœ‰å„²è“„ç¿’æ…£ï¼š${saving}<br>
        è·æ¥­é¡åˆ¥ï¼š${job}
      </p>
    `;

    qList.forEach((item, i) => {
      const card = document.createElement("div");
      card.className = "qa-card";
      card.innerHTML = `
        <div class="question">Q${i + 1}. ${item.q}</div>
        <div class="answer">ğŸ‘‰ ${answers[i]}</div>
      `;
      box.appendChild(card);
    });

    form.appendChild(box);
  };

  form.appendChild(submitBtn);
}å–”
